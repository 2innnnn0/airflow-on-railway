# Airflow 3.x Environment Variables for Railway
# Copy these to your Railway service environment variables

# Airflow Core Settings
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True

# Database Connection (Airflow 3.x uses DATABASE section)
# Railway 변수 참조 사용 (권장)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=${{Postgres.DATABASE_URL}}

# 또는 직접 연결 문자열 지정
# AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://user:password@host:5432/dbname

# Celery Settings
AIRFLOW__CELERY__BROKER_URL=${{Redis.REDIS_URL}}
AIRFLOW__CELERY__RESULT_BACKEND=db+${{Postgres.DATABASE_URL}}

# Fernet Key (비밀키 - 반드시 변경 필요)
# Python으로 생성: from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())
AIRFLOW__CORE__FERNET_KEY=your-generated-fernet-key-here

# Webserver Secret Key (반드시 변경 필요)
AIRFLOW__WEBSERVER__SECRET_KEY=your-secret-key-here

# Admin User Settings (init 서비스에서만 사용)
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin
AIRFLOW_ADMIN_EMAIL=admin@example.com

# Optional: Timezone
AIRFLOW__CORE__DEFAULT_TIMEZONE=Asia/Seoul

# Optional: API Settings
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session

# Optional: Logging
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO